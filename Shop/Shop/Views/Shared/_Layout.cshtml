<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link rel="icon" href="~/assets/Image/Logo/LogoTitle/logo_swoo_title.png" />
    <!-- Bootstrap CSS -->
    <link href="~/Content/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <!-- Bootstrap JS (kèm Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="~/assets//CSS//Layout//header.css">
    <link rel="stylesheet" href="~/assets//CSS//Layout//footer.css">

    @*icons8.com*@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

    <!-- jquery JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- SweetAlert2 CSS + JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <style>
        body {
            background-color: rgb(226, 228, 235);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
    <header>
        <!-- Top bar -->
        <div class="bg-light-custom py-2">
            <div class="container d-flex justify-content-between">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-2">
                        <span class="fw-medium small">Hotline 24/7</span>&nbsp;
                        <span class="fw-bold small">
                            <i class="fa fa-phone" aria-hidden="true"></i>
                            (025) 3886 25 16
                        </span>
                    </div>
                </div>
                <div class="d-flex align-items-center">
                    <div class="rounded-circle me-1" style="width: 20px; height: 20px; background-image: url('https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg'); background-size: cover; background-position: center; background-repeat: no-repeat;"></div>
                    <span style="font-size: 14px;">VN</span>
                </div>


            </div>
        </div>

        <!-- Main navigation -->
        <div class="py-3">
            <div class="container">
                <div class="row align-items-center gy-3 ">
                    <!-- Logo -->
                    <div class="col-12 col-md-2 d-flex justify-content-center justify-content-md-start">
                        <div class="d-flex align-items-center">
                            <img src="~/assets/Image/Logo/LogoTitle/logo_header_swoo.png" />
                        </div>
                    </div>

                    <!-- Navigation menu -->
                    <div class="col-12 col-md-6">
                        <nav>
                            <ul class="nav justify-content-center">
                                <li class="nav-item mx-2">
                                    <a href="/" class="py-2 px-2 text-dark fw-medium d-flex align-items-center text-decoration-none">
                                        TRANG CHỦ
                                    </a>
                                </li>

                                <li class="nav-item dropdown mx-2">
                                    <a href="#" class="py-2 px-2 text-dark fw-medium d-flex align-items-center text-decoration-none " id="dropdownDanhMuc" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        DANH MỤC
                                        <i class="fas fa-chevron-down ms-1 small"></i>
                                    </a>

                                    <ul style="min-width: 275px;" class="dropdown-menu border-0 p-0 w-100" aria-labelledby="dropdownDanhMuc">
                                        <li><a class="dropdown-item border-bottom py-2" href="/Product/AnotherProduct?maDm=DM006">Danh mục loa-tainghe</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/Product/ProductDienThoaiTabLet?maDm=DM001">Danh mục điện thoại</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/Product/ProductLaptopPC?maDm=DM002">Danh mục lapotp</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/Product/Gaming?maDm=DM009">Danh mục gaming gear</a></li>
                                        <li><a class="dropdown-item border-bottom py-2 " href="#">Danh mục sản phẩm khuyến nghị<div class="text-danger d-inline"> <i class="fa-solid fa-fire"></i></div> </a></li>
                                    </ul>
                                </li>

                                <li class="nav-item dropdown mx-2">
                                    <a href="#" class="py-2 px-2 text-dark fw-medium d-flex align-items-center text-decoration-none" id="dropdownLienKet" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        LIÊN KẾT TRANG
                                        <i class="fas fa-chevron-down ms-1 small"></i>
                                    </a>
                                    <ul style="min-width: 250px;" class=" dropdown-menu border-0  p-0 w-100" aria-labelledby="dropdownDanhMuc">
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/Promotion">Khuyến mãi</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/Register">Đăng ký nhận Voucher</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/About">Giới thiệu doanh nghiệp</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/PreCart">Giỏ hàng</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/TuyenDung">Tuyển dụng</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="/InnerPage/Blog">Blog</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="https://www.facebook.com/DhCongThuongHCM" target="_blank">Liên kết Facebook</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="https://www.tiktok.com/" target="_blank">Liên kết Tiktok</a></li>
                                        <li><a class="dropdown-item border-bottom py-2" href="https://www.youtube.com/" target="_blank">Liên kết YouTube</a></li>
                                    </ul>
                                </li>

                                <li class="nav-item mx-2">
                                    <a href="/InnerPage/Contact" class="py-2 px-2 text-dark fw-medium d-flex align-items-center text-decoration-none">LIÊN HỆ</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <style>
                        .avatar-link {
                            transition: transform 0.3s ease; /* mượt mà */
                            display: inline-flex; /* canh icon đẹp hơn nếu cần */
                            justify-content: center;
                            align-items: center;
                        }

                            .avatar-link:hover {
                                transform: scale(1.1); /* phóng to */
                            }

                        nav a:focus,
                        nav a:active {
                            background-color: transparent !important;
                            box-shadow: none !important;
                        }
                    </style>
                    <!-- User actions -->
                    <div class="col-12 col-md-4 p-0 position-relative">
                        <div class="d-flex justify-content-center justify-content-md-end align-items-center gap-3">
                            <!-- User account -->
                            <div class="d-flex align-items-center">

                                @if (Session["UserName"] != null && !string.IsNullOrWhiteSpace(Session["UserName"].ToString()))
                                {
                                    <div class="icon-circle bg-light-custom">
                                        <a href="/User/" data-bs-toggle="tooltip" title="Trang cá nhân" class="avatar-link">
                                            <img class="rounded-circle" src="https://png.pngtree.com/png-vector/20191027/ourmid/pngtree-user-icon-isolated-on-abstract-background-png-image_1875037.jpg" width="40" height="40">
                                        </a>
                                    </div>
                                    <div class="ms-2 d-none d-md-block ">
                                        <a href="/User/" class="text-dark text-decoration-none ">
                                            <p class="fs-7 text-gray-custom mb-0">XIN CHÀO KHÁCH HÀNG !</p>
                                            <p class="fs-7 fw-medium mb-0"
                                               data-bs-toggle="tooltip"
                                               data-bs-placement="bottom"
                                               title="Xin chào @Session["UserName"]">
                                                @Session["UserName"]
                                            </p>
                                        </a>
                                    </div>

                                }
                                else
                                {
                                    <div class="icon-circle bg-light-custom">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="ms-2 d-none d-md-block">
                                        <p class="fs-7 text-gray-custom mb-0">CHÀO MỪNG ĐẾN VỚI SWOO</p>
                                        <p class="fs-7 fw-medium mb-0"
                                           data-bs-toggle="tooltip"
                                           data-bs-placement="bottom"
                                           title="Click để đăng nhập">
                                            <a href="/InnerPage/Login" class="text-success text-decoration-none">ĐĂNG NHẬP</a>
                                        </p>
                                    </div>
                                }


                                <!-- Script khởi tạo Tooltip Bootstrap -->
                                <script>
                                    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
                                    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                                        return new bootstrap.Tooltip(tooltipTriggerEl)
                                    })
                                </script>

                            </div>

                            @* Kiểm tra đăng nhập *@
                            @if (Session["UserId"] != null)
                            {
                                <!-- Wishlist -->
                                <div class="position-relative">
                                    <a href="/Product/ProductWishList" class="text-dark" data-bs-toggle="tooltip" title="Danh sách yêu thích">
                                        <div class="icon-circle bg-light-custom avatar-link">
                                            <i class="fas fa-heart"></i>
                                        </div>
                                    </a>
                                </div>

                                <div id="notificationBell" style="cursor: pointer; display: inline-block;">
                                    <div class="icon-circle bg-light-custom avatar-link">
                                        <i class="fa-solid fa-bell text-dark fs-5"></i>
                                    </div>


                                    <span id="notificationCount" class="cart-badge bg-green-custom text-white">0</span>


                                    <!-- Notification Dropdown -->
                                    <div id="notificationMenu"
                                         class="shadow bg-white p-3 rounded position-absolute start-0"
                                         style="top: 120%; width: 400px; display: none; z-index: 999;">
                                        <!-- Nội dung sẽ được load ở đây -->
                                    </div>
                                </div>






                                <!-- Cart -->
                               <div class="d-flex align-items-center position-relative">
                                <a href="/InnerPage/PreCart" class="text-dark" data-bs-toggle="tooltip" title="Giỏ Hàng">
                                    <div class="icon-circle bg-light-custom avatar-link">
                                        <i class="fas fa-shopping-cart"></i>
                                        <span class="cart-count badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle" style="display: none;">0</span>
                                    </div>
                                </a>
                                <div class="ms-2 d-none d-md-block">
                                    <p class="fs-7 text-gray-custom mb-0">GIỎ HÀNG</p>
                                </div>
                            </div>
                            }


                        
                          
                          
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-container" style="position: relative">
            <div class="container">
                <div class="row align-items-center">
                    <!-- Search Bar Section -->
                    <div class="col-lg-5">
                        <form action="/Product/ProductSearch" method="get">
                            <div class="search-container" style="position: relative">
                                <button type="submit" class="search-button">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-search" viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                                    </svg>

                                </button>
                                <input type="text" name="keyword" id="search-input" class="search-input"
                                       placeholder="Nhập tên điện thoại, máy tính, phụ kiện... cần tìm"
                                       autocomplete="off">
                                <span id="clear-search" style="display: none; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); cursor: pointer; font-weight: bold;">×</span>
                            </div>
                        </form>

                    </div>

                    <div id="search-results" style="
                        position: absolute;
                        top: 88%;
                        left: 7%;
                        right: 0;
                        background: white;
                        border: 1px solid #ccc;
                        z-index: 1000;
                        display: none;
                        max-height: 300px;
                        overflow-y: auto;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        padding: 10px;
                        max-width:540px;
                        border-radius:12px;
                    "></div>
                    <style>
                        #search-results {
                            position: absolute;
                            top: calc(100% + 5px);
                            left: 0;
                            right: 0;
                            background: white;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                            z-index: 1000;
                            max-height: 400px;
                            overflow-y: auto;
                        }

                        .search-result-item:hover {
                            text-decoration: none;
                            transition: background-color 0.2s ease;
                        }

                        .search-result-item img {
                            transition: transform 0.2s ease;
                        }

                        .search-result-item:hover img {
                            transform: scale(1.05);
                        }
                    </style>



                    <!-- Promotional Messages Section -->
                    <div class="col-lg-7">
                        <div class="row promo-container">
                            <div class="col-md-4 ">
                                <div class="promo-text"><i class="fa-solid fa-truck-fast"></i>  Miễn phí vận chuyển </div>
                            </div>
                            <div class="col-md-4">
                                <div class="promo-text"><i class="fa-solid fa-rotate-right"></i>  Hoàn tiền trong 30 ngày</div>
                            </div>
                            <div class="col-md-4">
                                <div class="promo-text"><i class="fa-solid fa-shield"></i>  100% thanh toán an toàn</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </header>
    @RenderBody()
    @Scripts.Render("~/bundles/jquery")
    @RenderSection("scripts", required: false)

    <button onclick="scrollToTop()" id="scrollTopBtn" title="Lên đầu trang">  <i class="fas fa-chevron-up"></i> <br /><span>Lên đầu</span></button>
    
    <!-- Chatbot -->
    <div class="chatbot-container">
        <div class="chatbot-button" onclick="toggleChatbot()">
            <i class="fas fa-comments"></i>
        </div>
        <div class="chatbot-box" id="chatbotBox">
            <div class="chatbot-header">
                <h5>SWOO Assistant</h5>
                <button onclick="toggleChatbot()" class="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <!-- Messages will be added here -->
            </div>
            <div class="chatbot-input">
                <input type="text" id="userInput" placeholder="Nhập câu hỏi của bạn..." onkeypress="handleKeyPress(event)">
                <button onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <style>
        .chatbot-container {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            background-color: #28a745;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .chatbot-button:hover {
            transform: scale(1.1);
        }

        .chatbot-button i {
            color: white;
            font-size: 24px;
        }

        .chatbot-box {
            position: fixed;
            bottom: 170px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
        }

        .chatbot-header {
            padding: 15px;
            background: #28a745;
            color: white;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h5 {
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px;
        }

        .chatbot-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            max-width: 80%;
            white-space: pre-line;
        }

        .bot-message {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 10px;
            margin-right: auto;
        }

        .user-message {
            background: #28a745;
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-left: auto;
        }

        .chatbot-input {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }

        .chatbot-input input {
            flex-grow: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            outline: none;
        }

        .chatbot-input button {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .chatbot-input button:hover {
            background: #218838;
        }

        .action-button {
            display: inline-block;
            background: #28a745;
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin-top: 10px;
        }

        .action-button:hover {
            background: #218838;
            color: white;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-reply-btn {
            background: #f0f0f0;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

        .quick-reply-btn:hover {
            background: #e0e0e0;
        }

        .action-button {
            display: inline-block;
            background: #28a745;
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin: 5px 0;
            transition: background-color 0.3s ease;
        }

        .action-button:hover {
            background: #218838;
            color: white;
        }
    </style>

    <script>
        let chatbotData = null;

        // Load chatbot data
        fetch('/assets/Data/chatbot.json')
            .then(response => response.json())
            .then(data => {
                chatbotData = data;
                showWelcomeMessage();
            });

        function toggleChatbot() {
            const chatbotBox = document.getElementById('chatbotBox');
            chatbotBox.style.display = chatbotBox.style.display === 'none' ? 'flex' : 'none';
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const userInput = document.getElementById('userInput');
            const message = userInput.value.trim();
            
            if (message) {
                // Add user message
                addMessage(message, 'user');
                
                // Process message
                processMessage(message);
                
                // Clear input
                userInput.value = '';
            }
        }

        function addMessage(text, type) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.textContent = text;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showWelcomeMessage() {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot-message';
            messageDiv.textContent = 'Xin chào! Tôi là trợ lý ảo của SWOO. Bạn có thể hỏi tôi về:\n- Bảo hành\n- Giỏ hàng\n- Mua hàng\n- Tìm kiếm\n- Liên hệ\n- Khuyến mãi';
            messagesContainer.appendChild(messageDiv);
        }

        function processMessage(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check if it's a greeting
            if (chatbotData.greetings.includes(lowerMessage)) {
                showWelcomeMessage();
                return;
            }

            // Find matching response
            let matchedResponse = null;
            for (const response of chatbotData.responses) {
                for (const keyword of response.keywords) {
                    if (lowerMessage.includes(keyword)) {
                        matchedResponse = response;
                        break;
                    }
                }
                if (matchedResponse) break;
            }

            if (matchedResponse) {
                // Add bot reply
                addMessage(matchedResponse.reply, 'bot');

                // Add links if any
                if (matchedResponse.links && matchedResponse.links.length > 0) {
                    const linksDiv = document.createElement('div');
                    linksDiv.className = 'message bot-message';
                    matchedResponse.links.forEach(link => {
                        const linkElement = document.createElement('a');
                        linkElement.href = link.url;
                        linkElement.className = 'action-button';
                        linkElement.textContent = link.text;
                        linksDiv.appendChild(linkElement);
                        linksDiv.appendChild(document.createElement('br'));
                    });
                    document.getElementById('chatbotMessages').appendChild(linksDiv);
                }

                // Add quick replies
                if (matchedResponse.quick_replies && matchedResponse.quick_replies.length > 0) {
                    const quickRepliesDiv = document.createElement('div');
                    quickRepliesDiv.className = 'quick-replies';
                    matchedResponse.quick_replies.forEach(reply => {
                        const button = document.createElement('button');
                        button.className = 'quick-reply-btn';
                        button.textContent = reply;
                        button.onclick = () => {
                            addMessage(reply, 'user');
                            processMessage(reply);
                        };
                        quickRepliesDiv.appendChild(button);
                    });
                    document.getElementById('chatbotMessages').appendChild(quickRepliesDiv);
                }
            } else {
                // Show fallback message
                addMessage(chatbotData.fallback, 'bot');
            }
        }
    </script>

    <footer>
        <div class="container">
            <div class="row mb-4">
                <!-- Company Info Column -->
                <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                    <h5>SWOO - CHỢ CÔNG NGHỆ ONLINE 1ST</h5>
                    <p class="mb-1">HOTLINE 24/7</p>
                    <h4 class="hotline mb-3">(025) 3686 25 16</h4>
                    <p class="mb-1">140 Lê Trọng Tấn, phường Tây Thạnh, quận Tân Phú, Thành phố Hồ Chí Minh</p>
                    <p class="mb-1">VIE 10092</p>
                    <p class="mb-3">huit@@edu.com.vn</p>
                    <div class="d-flex mb-4">
                        <a href="#" class="social-icon">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-pinterest-p"></i>
                        </a>
                    </div>
                </div>

                <!-- Top Categories Column -->
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
                    <h5>CÁC DANH MỤC HÀNG ĐẦU</h5>
                    <ul>
                        <li><a href="/Product/ProductLaptopPC?maDm=DM002">Laptops</a></li>
                        <li><a href="/Product/ProductDienThoaiTabLet?maDm=DM001">Điện Thoại</a></li>
                        <li><a href="/Product/ProductDienThoaiTabLet?maDm=DM003">Tablets</a></li>
                        <li><a href="/Product/Gaming?maDm=DM009">Gaming Gear</a></li>
                        <li><a href="/Product/AnotherProduct?maDm=DM006">Loa - Tai Nghe</a></li>
                        <li><a href="/Product/AnotherProduct?maDm=DM007">Máy Ảnh</a></li>
                    </ul>
                </div>

                <!-- Company Column -->
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
                    <h5>CÔNG TY</h5>
                    <ul>
                        <li><a href="/InnerPage/About">Về Swoo</a></li>
                        <li><a href="/InnerPage/Contact">Liên hệ</a></li>
                        <li><a href="/InnerPage/TuyenDung">Career</a></li>
                        <li><a href="/InnerPage/Blog">Blog</a></li>
                        <li><a href="#">Sơ đồ trang web</a></li>
                        <li><a href="/InnerPage/About">Các địa điểm cửa hàng</a></li>
                    </ul>
                </div>

                <!-- Help Center Column -->
                <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                    <h5>TRUNG TÂM GIÚP ĐỠ</h5>
                    <ul>
                        <li><a href="#">Dịch vụ khách hàng</a></li>
                        <li><a href="#">Chính sách</a></li>
                        <li><a href="#">Điều khoản & Điều kiện</a></li>
                        <li><a href="#">Đơn hàng rác</a></li>
                        <li><a href="#">Câu hỏi thường gặp</a></li>
                        <li><a href="#">Tài khoản của tôi</a></li>
                        <li><a href="#">Hỗ trợ sản phẩm</a></li>
                    </ul>
                </div>

                <!-- Partner Column -->
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
                    <h5>ĐỐI TÁC</h5>
                    <ul>
                        <li><a href="/InnerPage/Contact">Trở thành người bán</a></li>
                        <li><a href="/InnerPage/Contact">Tiếp thị liên kết</a></li>
                        <li><a href="/InnerPage/Contact">Quảng cáo</a></li>
                        <li><a href="/InnerPage/Contact">Hợp tác</a></li>
                    </ul>
                </div>
            </div>



            <!-- Subscribe Section -->
            <div class="row subscribe-section">
                <div class="col-12">
                    <div class="d-flex flex-column flex-md-row align-items-center ">
                        <h5 class="mb-3 mb-md-0">
                            ĐĂNG KÝ & NHẬN <span class="text-danger">10% OFF</span> GIẢM GIÁ CHO ĐƠN HÀNG ĐẦU TIÊN CỦA BẠN
                        </h5>
                        <a href="/InnerPage/Register" class="btn btn-success ms-2">ĐĂNG KÝ</a>

                    </div>
                    <div class="mt-2 text-center text-md-start">
                        <small class="text-muted">
                            Bằng cách đăng ký, bạn đã chấp nhận Chính sách của chúng tôi
                            <a href="#">Here your Policy</a>
                        </small>
                    </div>
                </div>
            </div>

            <hr>

            <!-- Footer Bottom -->
            <div class="row py-3">
                <div class="col-md-4 mb-3 mb-md-0">
                    <p class="mb-0">© 2025 <strong>Shawonetc3</strong> All Rights Reserved</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0 text-center payment-icons">
                    <img src="https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg" alt="PayPal">
                    <img src="https://www.mastercard.com.vn/content/dam/public/mastercardcom/vn/vi/logos/mc-logo-52.svg" alt="Mastercard">
                    <img src="https://usa.visa.com/dam/VCOM/regional/ve/romania/blogs/hero-image/visa-logo-800x450.jpg" alt="Visa">
                    <img src="https://stripe.com/img/v3/home/social.png" alt="Stripe">
                    <img src="https://cdn.klarna.com/1.0/shared/image/generic/logo/en_us/basic/logo_black.png" alt="Klarna">
                </div>

            </div>
        </div>
    </footer>
</body>
</html>
<script>
    // Hiện nút khi cuộn xuống
    window.onscroll = function () {
        const btn = document.getElementById("scrollTopBtn");
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            btn.style.display = "block";
        } else {
            btn.style.display = "none";
        }
    };

    // Hàm cuộn lên đầu
    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(el => {
            new bootstrap.Tooltip(el);
        });
    });
</script>


<script>
    $(document).ready(function () {
        let debounceTimer;

        function searchProduct(keyword) {
            if (keyword.length >= 1) {
                $.get('/Product/SearchSuggest', { keyword: keyword }, function (data) {
                    let html = '';

                    if (!data || data.length === 0) {
                        html = '<div style="padding: 10px;">Không có kết quả tìm kiếm</div>';
                    } else {
                        data.forEach(function (item) {
                            html += `
                           <a href="/Product/ProductDetail/${item.MaHangHoa}?maBienThe=${item.MaBienThe}" class="search-result-item"
                               style="display: flex; align-items: center; gap: 10px; padding: 8px; border-bottom: 1px solid #eee; text-decoration: none; color: #333;">
                                <img src="/assets/Image/Product/${item.HinhAnh}" alt="${item.TenHangHoa}"
                                     style="width: 60px; height: 60px; object-fit: cover; border-radius: 4px;" />
                                <div>
                                    <strong>${item.TenHangHoa}</strong><br />
                                    <small><s>${item.GiaBan.toLocaleString()}đ</s></small><br />
                                    <small><span style="color: red;">${item.GiaKhuyenMai.toLocaleString()}đ</span></small>
                                </div>
                            </a>
                        `;
                        });
                    }

                    $('#search-results').html(html).show();
                });
            } else {
                $('#search-results').hide();
            }
        }

        // Lắng nghe input & focus
        $('#search-input').on('input focus', function () {
            const keyword = $(this).val().trim();

            // Hiện/ẩn nút "X"
            if (keyword.length > 0) {
                $('#clear-search').show();
            } else {
                $('#clear-search').hide();
            }

            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                searchProduct(keyword);
            }, 500); // debounce 0.5s
        });

        // Khi bấm nút "X" để xóa
        $('#clear-search').on('click', function () {
            $('#search-input').val('').focus();
            $(this).hide();
            $('#search-results').hide();
        });

        // Ẩn kết quả khi click ra ngoài
        $(document).on('click', function (e) {
            if (!$(e.target).closest('.search-container').length) {
                $('#search-results').hide();
            }
        });

        // Ngăn mất focus khi click trong kết quả
        $('#search-results').on('click', function (e) {
            e.stopPropagation();
        });
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const bell = document.getElementById("notificationBell");
        const menu = document.getElementById("notificationMenu");

        // Toggle khi click chuông
        bell.addEventListener("click", function (e) {
            e.stopPropagation(); // Ngăn lan ra ngoài

            if (menu.style.display === "block") {
                menu.style.display = "none";
            } else {
                fetch('/InnerPage/LoadThongBao')
                    .then(res => res.text())
                    .then(html => {
                        menu.innerHTML = html;
                        menu.style.display = "block";
                    });
            }
        });

        // Ngăn đóng khi click trong menu
        menu.addEventListener("click", function (e) {
            e.stopPropagation();
        });

        // Click ngoài thì đóng menu
        document.addEventListener("click", function () {
            menu.style.display = "none";
        });
    });

</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/InnerPage/GetSoLuongThongBao') // đổi đường dẫn đúng Controller/Action
            .then(res => res.json())
            .then(data => {
                document.getElementById('notificationCount').textContent = data;
            })
            .catch(error => console.error('Lỗi lấy số thông báo:', error));
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        updateCartCount();
        
        // Cập nhật số lượng hiển thị trên icon giỏ hàng
        function updateCartCount() {
            const cartCountElement = document.querySelector('.cart-count');
            if (!cartCountElement) return;
            
            // Kiểm tra người dùng đã đăng nhập chưa
            const isLoggedIn = @(Session["UserID"] != null ? "true" : "false");
            
            if (isLoggedIn) {
                // Nếu đã đăng nhập, lấy số lượng từ server
                fetch('/InnerPage/GetCartItems')
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // Hiển thị số lượng loại sản phẩm trong giỏ hàng
                            const totalItems = data.cartItems.length;
                            cartCountElement.textContent = totalItems;
                            cartCountElement.style.display = totalItems > 0 ? 'inline-block' : 'none';
                        }
                    })
                    .catch(error => console.error('Lỗi khi lấy giỏ hàng:', error));
            } else {
                // Nếu chưa đăng nhập, lấy số lượng từ sessionStorage
                const cart = JSON.parse(sessionStorage.getItem('cart')) || [];
                // Hiển thị số lượng loại sản phẩm trong giỏ hàng
                const totalItems = cart.length;
                cartCountElement.textContent = totalItems;
                cartCountElement.style.display = totalItems > 0 ? 'inline-block' : 'none';
            }
        }
        
        // Lắng nghe sự kiện cập nhật giỏ hàng
        window.addEventListener('cartUpdated', updateCartCount);
    });
</script>

