@{
    ViewBag.Title = "Checkout";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/assets/CSS/InnerPage/Checkout.css" />
<div class="container p-4 bg-white my-3 rounded-3">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb small text-muted m-0">
            <li class="breadcrumb-item"><a href="/">Trang Chủ</a></li>
            <li class="breadcrumb-item"><a href="/pages">Pages</a></li>
            <li class="breadcrumb-item active text-secondary" aria-current="page">Thanh toán</li>
        </ol>
    </nav>
</div>

<div class="container p-4  mb-3 rounded-3 bg-white">
    <h3 class="mb-4 fw-bold">THANH TOÁN</h3>

    <div class="row g-4">
        <!-- Left column -->
        <div class="col-lg-8">
            <!-- Info boxes -->
            <div class="row g-3 mb-4">
                <div class="col-md-6">
                    <div class="bg-light p-3 rounded">
                        <p>
                            Quay về ?
                            <a href="#" class="text-danger text-decoration-underline">Click tại đây để quay về sản phẩm</a>
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="bg-light p-3 rounded">
                        <p>
                            Bạn có voucher ?
                            <a href="#" class="text-danger text-decoration-underline">Click tại đây để nhập mã voucer</a>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Billing Details -->
            <h2 class="h5 fw-bold mb-3">Chi tiết hóa đơn</h2>
            <form>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="firstName" class="form-label">Họ khách hàng<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="firstName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="lastName" class="form-label">Tên khách hàng<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="lastName" required>
                    </div>

                    <div class="col-12">
                        <label for="country" class="form-label">Quốc gia <span class="text-danger">*</span></label>
                        <select class="form-select" id="country" required>
                            <option>Viêt Nam</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="state" class="form-label">Tỉnh thành (1)<span class="text-danger">*</span></label>
                        <select class="form-select" id="province-select" required>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="state" class="form-label">Tỉnh Quận/huyện (2)<span class="text-danger">*</span></label>
                        <select class="form-select" id="district-select" required>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="state" class="form-label">Tỉnh Phường/xã  (3)<span class="text-danger">*</span></label>
                        <select class="form-select" id="ward-select" required>
                        </select>
                    </div>
                    <div class="col-12">
                        <label for="streetAddress" class="form-label">Địa chỉ nhận hàng</label>
                        <input type="text" class="form-control mb-2" id="streetAddress" placeholder="House number and street name ...">
                        <input type="text" class="form-control" id="streetAddress2" placeholder="Apartment, suite, unit, etc (Optional)">
                    </div>
                    <div class="col-md-6">
                        <label for="phone" class="form-label">Số điện thoại <span class="text-danger">*</span></label>
                        <input type="tel" class="form-control" id="phone" required>
                    </div>
                    <div class="col-12">
                        <label for="email" class="form-label">Địa chỉ email <span class="text-danger">*</span></label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" id="createAccount">
                        <label class="form-check-label" for="createAccount">Xác nhận thông tin trên là chính xác?</label>
                    </div>
                </div>

                <!-- Additional Info -->
                <div class="mt-4">
                    <h2 class="h5 fw-bold">Thông tin bổ sung</h2>
                    <label for="orderNotes" class="form-label">Ghi chí cho đơn hàng <small class="text-muted">(Không bắt buộc)</small></label>
                    <textarea class="form-control" id="orderNotes" rows="3" placeholder="Note about your order, e.g. special note for delivery"></textarea>
                </div>
            </form>
        </div>

        <!-- Right column - Order Summary -->
        <div class="col-lg-4">
            <div class="bg-light p-4 rounded">
                <h2 class="h5 fw-bold mb-3">Đơn hàng của bạn</h2>

                <div class="d-flex justify-content-between text-muted small mb-2">
                    <span>SẢN PHẨM</span>
                    <span>
                        TỔNG PHỤ
                    </span>
                </div>

                <div class="border-top border-bottom py-3">
                    <div class="d-flex mb-2">
                        <img src="https://via.placeholder.com/50" alt="Product" class="me-3 border rounded" />
                        <div>
                            <p class="mb-1 fw-medium">Pinnaeple Macbook Pro 2022 M1/512GB</p>
                            <div class="d-flex justify-content-between small mt-3">
                                <small class="text-muted">× 3</small>
                                <span class="text-danger">$1,737.00</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-between mt-3 fw-semibold">
                    <span>Tồng tiền hàng:</span>
                    <span class="fs-8">$1,746.50</span>
                </div>
                <div class="d-flex justify-content-between mt-3 fw-semibold">
                    <span>Chi phí vận chuyển:</span>
                    <span class=" fs-8">$1,746.50</span>
                </div>
                <div class="d-flex justify-content-between mt-3 fw-semibold border-bottom ">
                    <span>Thuế:</span>
                    <span class=" fs-8">$1,746.50</span>
                </div>
                <div class="d-flex justify-content-between mt-3 fw-bold">
                    <span>TỔNG TIỀN</span>
                    <span class="text-success fs-5">$1,746.50</span>
                </div>

                <!-- Payment Methods -->
                <div class="mt-4">
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="paymentMethod" id="bankTransfer">
                        <label class="form-check-label" for="bankTransfer">
                            Chuyển khoản ngân hàng trực tiếp
                        </label>
                        <small class="d-block text-muted mt-1">
                            Vui lòng chuyển khoản trực tiếp vào tài khoản ngân hàng của chúng tôi. Hãy sử dụng Mã đơn hàng làm nội dung chuyển khoản.
                            Đơn hàng của bạn sẽ chỉ được giao sau khi chúng tôi xác nhận đã nhận được thanh toán.
                        </small>
                    </div>

                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="paymentMethod" id="cod">
                        <label class="form-check-label" for="cod">Thanh toán khi nhận hàng</label>
                    </div>

                    <div class="form-check d-flex justify-content-between align-items-center">
                        <div>
                            <input class="form-check-input" type="radio" name="paymentMethod" id="paypal">
                            <label class="form-check-label" for="paypal">
                                Paypal <a href="https://www.paypal.com/vn/home?locale.x=vi_VN" class="text-danger text-decoration-underline small" target="_blank">Paypal là gì?</a>
                            </label>
                        </div>
                        <img src="https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg" alt="Paypal" class="ms-2" />
                    </div>
                </div>

                <button class="place-order btn btn-success w-100 mt-4">ĐẶT HÀNG</button>

            </div>
        </div>
    </div>
</div>

<script>
    // Lấy danh sách tỉnh/thành phố
    fetch('https://provinces.open-api.vn/api/p/')
        .then(response => response.json())
        .then(provinces => {
            const provinceSelect = document.getElementById('province-select');
            provinces.forEach(province => {
                const option = document.createElement('option');
                option.value = province.code;
                option.textContent = province.name;
                provinceSelect.appendChild(option);
            });
        });

    // Khi người dùng chọn tỉnh/thành phố, lấy danh sách quận/huyện
    document.getElementById('province-select').addEventListener('change', function () {
        const provinceCode = this.value;
        fetch(`https://provinces.open-api.vn/api/p/${provinceCode}?depth=2`)
            .then(response => response.json())
            .then(data => {
                const districtSelect = document.getElementById('district-select');
                districtSelect.innerHTML = '';
                data.districts.forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.code;
                    option.textContent = district.name;
                    districtSelect.appendChild(option);
                });
            });
    });

    // Khi người dùng chọn quận/huyện, lấy danh sách phường/xã
    document.getElementById('district-select').addEventListener('change', function () {
        const districtCode = this.value;
        fetch(`https://provinces.open-api.vn/api/d/${districtCode}?depth=2`)
            .then(response => response.json())
            .then(data => {
                const wardSelect = document.getElementById('ward-select');
                wardSelect.innerHTML = '';
                data.wards.forEach(ward => {
                    const option = document.createElement('option');
                    option.value = ward.code;
                    option.textContent = ward.name;
                    wardSelect.appendChild(option);
                });
            });
    });

</script>