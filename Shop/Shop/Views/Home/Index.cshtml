@{
    ViewBag.Title = "SWOO TECH MART";
}
﻿@model List<Shop.Models.HangHoaViewModel>

@{
    var sanPhamTonNhieuNhat = Model
        .OrderByDescending(h => h.SoLuongTonKho)
        .FirstOrDefault();
}


<link rel="stylesheet" href="~/assets//CSS//Home//Home.css" />
<div class="container pb-2 px-0">

    <div class="row g-3">
        <!-- Sidebar Column -->
        <div class="col-lg-3 col-md-4">
            <div class="sidebar px-4 pt-4 bg-white rounded-4 shadow-sm h-100">
                <!-- Sale Banner -->
                <div class="sale-banner "><i class="fa-solid fa-fire"></i> BEST SELLER "HOT"</div>

                <!-- Category Navigation -->
                <nav class="category-nav">
                    <ul class="list-unstyled">
                        @foreach (var dm in ViewBag.DanhMucList as List<Shop.Models.DanhMuc>)
                        {
                            string hrefValue = "#"; // mặc định không liên kết

                            switch (dm.MaDanhMuc)
                            {
                                case "DM001":
                                case "DM002":
                                    hrefValue = Url.Action("ProductDienThoaiTabLet", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                case "DM003":
                                    hrefValue = Url.Action("ProductLaptopPC", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                case "DM005":
                                    hrefValue = Url.Action("PhuKien", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                case "DM004":
                                case "DM006":
                                case "DM007":
                                case "DM010":
                                    hrefValue = Url.Action("AnotherProduct", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                case "DM008":
                                case "DM011":
                                    hrefValue = Url.Action("ProductManHinh", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                case "DM009":
                                    hrefValue = Url.Action("Gaming", "Product", new { maDm = dm.MaDanhMuc });
                                    break;
                                // Thêm các case khác nếu cần
                                default:
                                    hrefValue = "#"; // hoặc link đến trang mặc định
                                    break;
                            }

                            <li>
                                <a href="@hrefValue" class="category-link">
                                    @Html.Raw(dm.TenDanhMuc)
                                    <i class="fa-solid fa-chevron-right float-end"></i>
                                </a>
                            </li>
                        }

                    </ul>
                </nav>
            </div>
        </div>

        <!-- Main Content Column -->
        <div class="col-lg-6 col-md-5">
            <!-- Main Featured Product -->
            <div class="swiper mySwiper rounded-4 mb-4">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH001", maBienThe = "BT001" })">
                            <img src="~/assets/Image/Header/Banner/Banner_iphone-16-pro-max.jpg" class="w-100 product-image" />
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH003", maBienThe = "BT005" })">
                            <img src="~/assets/Image/Header/Banner/Banner_dien-thoai-samsung-galaxy-s25-ultra.jpg" class="w-100 product-image" />
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH030", maBienThe = "BT036" })">
                            <img src="~/assets/Image/Header/Banner/ezgif.com-webp-to-jpg-converter.jpg" class="w-100 product-image" />
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH017", maBienThe = "BT023" })">
                            <img src="~/assets/Image/Header/Banner/Banner_dien-thoai-samsung-galaxy-m55.jpg" class="w-100 product-image" />
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <img src="~/assets/Image/Header/Banner/Banner_apple-chinh-hang.jpg" class="w-100 product-image" />
                    </div>
                    <div class="swiper-slide">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH057", maBienThe = "BT063" })">
                            <img src="~/assets/Image/Header/Banner/Banner_Mac_Air.jpg" class="w-100 product-image" />
                        </a>
                    </div>
                </div>

                <!-- Navigation buttons -->
                <div class="swiper-button-next custom-nav-btn"></div>
                <div class="swiper-button-prev custom-nav-btn"></div>
            </div>
            <!-- Secondary Products Row -->
            <div class="row g-4">
                <div class="col-6">
                    <div class="product-banner">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH047", maBienThe = "BT053" })">
                            <img src="~/assets/Image/Header/Banner/Banner_SamSungTab.jpg"
                                 alt="Banner_SamSungTab"
                                 class=" rounded-4 w-100 product-image ">
                        </a>
                    </div>
                </div>
                <div class="col-6">
                    <div class="product-banner">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH007", maBienThe = "BT012" })">
                            <img src="~/assets/Image/Header/Banner/Banner_Poco.jpg"
                                 alt="Poco-X7"
                                 class=" rounded-4 w-100 product-image ">
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="col-lg-3 col-md-3 ">
            <div class="row g-3">
                <div class="col-12">
                    <div class="product-banner">
                        <img src="~/assets/Image/Header/Banner/Banner_apple-chinh-hang.jpg"
                             alt="Smart Watch"
                             class=" rounded-4 w-100 product-image ">
                    </div>
                </div>
                <div class="col-12">
                    <div class="product-banner">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH017", maBienThe = "BT023" })">
                            <img src="~/assets/Image/Header/Banner/Banner_dien-thoai-samsung-galaxy-m55.jpg"
                                 alt="Action Camera"
                                 class="  rounded-4 w-100 product-image ">
                        </a>
                    </div>
                </div>
                <div class="col-12">
                    <div class="product-banner">
                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = "HH057", maBienThe = "BT063" })">
                            <img src="~/assets/Image/Header/Banner/Banner_mac.jpg"
                                 alt="Action Camera"
                                 class="  rounded-4 w-100 product-image ">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Product Carousel using Swiper -->
    <div style="background-color:white; margin-top:16px" class="px-3 pt-3 rounded-4">
        <!-- Navigation Tabs -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <ul class="nav nav-tabs" id="product-tabs">
                <li class="nav-item">
                    <a class="nav-link active" data-category="best-discount" href="#">GIẢM GIÁ SÂU</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="new-in" href="#">HÀNG MỚI</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="popular" href="#">PHỔ BIẾN</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-category="recommend" href="#">RECOMMEND</a>
                </li>
            </ul>
        </div>

        <!-- Swiper -->
        <div class="swiper productSwiper">
            <div class="swiper-wrapper" id="product-swiper-wrapper">
                <!-- Nội dung BEST SELLER sẽ load ở JS -->
            </div>

            <!-- Navigation -->
            <!-- Navigation buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>

        </div>

    </div>



    <div class="d-flex flex-column flex-lg-row gap-3 my-3">
        <!-- FEATURED BRANDS SECTION -->
        <div class="w-100 w-lg-50 bg-white rounded-4 px-4 py-3">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">Nhãn hàng đặc trưng</h4>
            </div>

            <div class="brands-container">
                <!-- First row of brands -->
                <div class="row row-cols-5 g-4 mb-4">
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/acer_logo.jpg" alt="Acer" title="Acer" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/xiaomi_logo.jpg" alt="Xiaomi" title="Xiaomi" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/samsung_logo.jpg" alt="Samsung" title="Samsung" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/apple_logo.jpg" alt="Macbook" title="Macbook" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/oppo_logo.jpg" alt="Oppo" title="Oppo" data-bs-toggle="tooltip">
                        </div>
                    </div>
                </div>

                <!-- Second row of brands -->
                <div class="row row-cols-5 g-4">
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/logitech_logo.jpg" alt="Logitech" title="Logitech" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/jbl_logo.jpg" alt="JBL" title="JBL" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/Honor.jpg" alt="Honor" title="Honor" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/Gigabyte.jpg" alt="Gigabyte" title="Gigabyte" data-bs-toggle="tooltip">
                        </div>
                    </div>
                    <div class="col">
                        <div class="brand-item">
                            <img src="~/assets/Image/Logo/LogoBrand/asus_logo.jpg" alt="Asus" title="Asus" data-bs-toggle="tooltip">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- TOP CATEGORIES SECTION -->
        <div class="w-100 w-lg-50 bg-white rounded-4 px-4 py-3">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">TOP DANH MỤC</h4>
            </div>

            <div class="categories-container">
                <div class="row row-cols-2 row-cols-md-4 g-4">
                    <!-- Laptops Category -->
                    <div class="col">
                        <a href="/Product/ProductLaptopPC?maDm=DM002" class="text-decoration-none text-dark">
                            <div class="category-item text-center">
                                <div class="category-image mb-1">
                                    <img src="~/assets/Image/Header/Banner/prod4_lap.png" alt="Laptops">
                                </div>
                                <h3 class="category-name">Laptops</h3>
                            </div>
                        </a>
                    </div>


                    <!-- ĐienThoai Category -->
                    <div class="col">
                        <a href="/Product/ProductDienThoaiTabLet?maDm=DM001" class="text-decoration-none text-dark">
                            <div class="category-item text-center">
                                <div class="category-image mb-1">
                                    <img src="~/assets/Image/Header/Product_Feature/phone_iphone.png" alt="Điện Thoại">
                                </div>
                                <h3 class="category-name">Điện Thoại</h3>
                            </div>
                        </a>
                    </div>

                    <!-- Headphones Category -->
                    <div class="col">
                        <a href="/Product/AnotherProduct?maDm=DM006" class="text-decoration-none text-dark">
                            <div class="category-item text-center">
                                <div class="category-image mb-1">
                                    <img src="~/assets/Image/Header/Banner/prod2_headphone.png" alt="Tai Nghe">
                                </div>
                                <h3 class="category-name">Tai Nghe</h3>
                            </div>
                        </a>
                    </div>

                    <!-- Monitors Category -->
                    <div class="col">
                        <a href="/Product/ProductManHinh?maDm=DM011" class="text-decoration-none text-dark">
                            <div class="category-item text-center">
                                <div class="category-image mb-1">
                                    <img src="~/assets/Image/Header/Banner/prod3_monitor.png" alt="Màn Hình">
                                </div>
                                <h3 class="category-name">Màn Hình</h3>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="d-flex gap-3">
        <!-- DEALS OF THE DAY SECTION -->
        <div class="w-75">
            <div class="card-header deals-header">
                <div style="background-color: #1ABA1A " class="d-flex justify-content-between align-items-center rounded-3 px-4 py-2 text-white">
                    <h3 class="m-0">Deal hời hôm nay @DateTime.Now.ToShortDateString()</h3>
                    <a href="#" class="view-all text-white">View All <i class="bi bi-chevron-right"></i></a>
                </div>
            </div>
            <div class="container py-4 bg-white rounded-3 ">
                <div class="row g-5">

                    <!-- Image Section -->
                    <div class="col-md-6 ">
                        @{
                            var tietKiem = sanPhamTonNhieuNhat.GiaBan - sanPhamTonNhieuNhat.GiaKhuyenMai;
                            var tietKiemPercent = Math.Round(((sanPhamTonNhieuNhat.GiaBan - sanPhamTonNhieuNhat.GiaKhuyenMai) / sanPhamTonNhieuNhat.GiaBan) * 100, 0); // làm tròn đến số nguyên

                        }

                        <div class="text-center mt-5">
                            <img src="~/assets/Image/Product/@sanPhamTonNhieuNhat.HinhAnh" alt="Xioma Redmi Note 11 Pro" style="max-height: 100%; object-fit: contain; width: 100%;" />
                        </div>

                    </div>

                    <!-- Details Section -->
                    <div class="col-md-6">
                        <h3 class="h3 fw-bold">@sanPhamTonNhieuNhat.TenHangHoa</h3>
                        <div class="d-flex align-items-center">
                            <span class="me-2">MSP:@sanPhamTonNhieuNhat.MaHangHoa</span>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="ms-1">@sanPhamTonNhieuNhat.DanhGiaTrungBinh</span>
                                <span class="ms-2  text-primary">@sanPhamTonNhieuNhat.SoLuongDanhGia đánh giá</span>
                            </div>
                        </div>


                        <div class="d-flex align-items-baseline mt-3 justify-content-between">
                            <div>
                                <span class="fs-3 fw-bold me-3 text-danger">
                                    @sanPhamTonNhieuNhat.GiaKhuyenMai.ToString("N0")đ
                                </span>
                                <span class="text-muted text-decoration-line-through fs-5">
                                    @sanPhamTonNhieuNhat.GiaBan.ToString("N0")đ
                                </span>&nbsp;
                                <span class="text-danger  text-decoration-none"> @tietKiemPercent.ToString()%</span>
                            </div>
                        </div>



                        @Html.Raw(sanPhamTonNhieuNhat.MoTaDai)

                        <div class="d-flex flex-wrap gap-3 my-2">
                            <span class="badge bg-light text-success px-3 py-2 rounded">MIỄN SHIP</span>
                            <span class="badge bg-danger bg-opacity-10 text-danger px-3 py-2 rounded">MIẾN PHÍ QUÀ</span>
                        </div>

                        <div class="my-2">
                            <div class="fw-bold mb-2">
                                HURRY UP!
                            </div>
                            <!-- Placeholder countdown -->
                            <div class="d-flex gap-2" id="countdown">
                                <span class="bg-dark text-white px-3 py-2 rounded" id="days">00d</span>
                                <span class="bg-dark text-white px-3 py-2 rounded" id="hours">00h</span>
                                <span class="bg-dark text-white px-3 py-2 rounded" id="minutes">00m</span>
                                <span class="bg-dark text-white px-3 py-2 rounded" id="seconds">00s</span>
                            </div>

                        </div>
                        @{
                            int soLuongGoc = 110;
                            int soLuongTon = sanPhamTonNhieuNhat.SoLuongTonKho;
                            int soLuongBan = soLuongGoc - soLuongTon;
                            double phanTramBan = soLuongGoc > 0 ? (soLuongBan * 100.0 / soLuongGoc) : 0;
                        }

                        <div class="my-2">
                            <div class="progress" style="height: 10px;">
                                <div class="progress-bar progress-bar-custom" role="progressbar"
                                     style="width: @phanTramBan%;"
                                     aria-valuenow="@soLuongBan"
                                     aria-valuemin="0"
                                     aria-valuemax="@soLuongGoc">
                                </div>
                            </div>
                            <div class="text-muted mt-2">Đã bán: @soLuongBan/@soLuongGoc</div>

                        </div>

                        <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = sanPhamTonNhieuNhat.MaHangHoa, maBienThe = sanPhamTonNhieuNhat.MaBienThe })" class="text-decoration-none text-dark">
                            <button class="btn btn-success w-100 py-3 fw-bold fs-5">Thêm Giỏ Hàng</button>
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <div class="w-25">
            <div class="d-flex flex-column">
                <div class="mb-2">
                    <img class="img-fluid" src="~/assets/Image/Header/Banner/banner_1.png" alt="Image 3" />
                </div>
                <div class="mb-2">
                    <img class="img-fluid" src="~/assets/Image/Header/Banner/banner_2.png" alt="Image 3" />
                </div>  <div class="mb-2">
                    <img class="img-fluid" src="~/assets/Image/Header/Banner/banner_3.png" alt="Image 3" />
                </div>  <div class="mb-2">
                    <img class="img-fluid" src="~/assets/Image/Header/Banner/banner_4.png" alt="Image 3" />
                </div>
            </div>
        </div>
    </div>

    @*Banner*@
    <section class="tc-banner-style3 my-3 wow fadeInUp slow" data-wow-delay="0.2s" style="visibility: visible; animation-delay: 0.2s; animation-name: fadeInUp;">
        <div class="banner-card text-center">
            <h6 class="d-block d-lg-inline-flex align-items-center fw-400 fsz-18 lh-5"> <img src="https://ui-themez.smartinnovates.net/items/swoo_html/home_tech/assets/img/star.png" alt="" class="icon-30 me-2"> Thành viên được  MIỄN PHÍ VẬN CHUYỂN không yêu cầu giá trị đơn hàng tối thiểu!. Áp dụng điều kiện <a href="#" class="fsz-14 text-decoration-underline ms-2 text-white"> Dùng thử miễn phí 30 ngày!" </a> </h6>
        </div>
    </section>

    <!-- Danh sách sản phẩm ẩn để JS lấy nội dung -->
    @{
        var sortedProductsDiscount = Model
            .Where(p => p.GiaBan > 0) // tránh chia cho 0
            .Select(p => new
            {
                Product = p,
                Discount = 1 - (p.GiaKhuyenMai / p.GiaBan)
            })
            .OrderByDescending(p => p.Discount)
            .Select(p => p.Product)
            .ToList();
    }




    <div id="product-best-discount" class="d-none">
        @foreach (var product in sortedProductsDiscount)
        {
            <div class="swiper-slide">
                <!-- Card sản phẩm BEST SELLER -->
                <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = product.MaHangHoa, maBienThe = product.MaBienThe })" class="text-decoration-none text-dark">
                    <div class="product-card position-relative my-3">
                        <span class="discount-badge position-absolute top-0 end-0">
                            @((int)(100 - (product.GiaKhuyenMai / product.GiaBan * 100)))% OFF
                        </span>
                        <style>
                            .discount-badge {
                                background-color: #dc3545; /* đỏ rực */
                                color: white;
                                font-weight: bold;
                                font-size: 0.75rem;
                                padding: 4px 8px;
                                border-bottom-left-radius: 8px;
                                z-index: 10;
                            }
                        </style>
                        <div class="product-image-container">
                            <img src="~/assets/Image/Product/@product.HinhAnh" alt="@product.TenHangHoa" width="194" height="200">
                        </div>
                        <div class="review-count">(@product.SoLuongTonKho)</div>
                        <h5 class="product-name">@product.TenHangHoa</h5>
                        <p class="product-description">@product.MoTa</p>
                        <div class="star-rating">
                            @for (int i = 1; i <= 5; i++)
                            {
                                if (i <= @product.DanhGiaTrungBinh)
                                {
                                    <i class="bi bi-star-fill"></i>
                                }
                                else
                                {
                                    <i class="bi bi-star" style="opacity: 0.3;"></i>
                                }
                            }
                            <span class="rating-count">@product.SoLuongDanhGia Ratings</span>
                        </div>

                        <div class="price-container">
                            <span class="current-price">@product.GiaKhuyenMai.ToString("N0") ₫</span>
                            <span class="original-price text-muted text-decoration-line-through">@product.GiaBan.ToString("N0") ₫</span>

                        </div>

                        <div class="free-shipping">FREE SHIPPING</div>
                        <div class="d-flex justify-content-between">
                            @if (product.SoLuongTonKho > 0)
                            {
                                <div class="stock-status">
                                    <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                    <span>Còn hàng</span>
                                </div>
                            }
                            else
                            {
                                <div class="stock-status text-danger">
                                    <i class="bi bi-x-circle-fill"></i>&nbsp;
                                    <span>Hết hàng</span>
                                </div>
                            }

                            <div class="stock-status">
                                <a href="" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="@product.MaHangHoa">
                                    @if (ViewBag.DanhSachYeuThich.Contains(product.MaHangHoa))
                                    {
                                        <i class="fas fa-heart heart-icon glowing-heart" data-filled="true"></i>
                                    }
                                    else
                                    {
                                        <i class="far fa-heart heart-icon" data-filled="false"></i>
                                    }
                                    <span>Yêu thích</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </a>

            </div>
        }
    </div>
    @{
        var sortedProducts = Model.OrderByDescending(p => p.NgayTao).ToList();
    }
    <div id="product-new-in" class="d-none">
        @foreach (var product in sortedProducts)
        {
            <div class="swiper-slide">
                <!-- Card sản phẩm BEST SELLER -->
                <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = product.MaHangHoa, maBienThe = product.MaBienThe })" class="text-decoration-none text-dark">
                    <div class="product-card position-relative my-3">
                        <span class="discount-badge position-absolute top-0 end-0">
                            @((int)(100 - (product.GiaKhuyenMai / product.GiaBan * 100)))% OFF
                        </span>
                        <div class="product-image-container">
                            <img src="~/assets/Image/Product/@product.HinhAnh" alt="@product.TenHangHoa" width="194" height="200">
                        </div>
                        <div class="review-count">(@product.SoLuongTonKho)</div>
                        <h5 class="product-name">@product.TenHangHoa</h5>
                        <p class="product-description">@product.MoTa</p>
                        <div class="star-rating">
                            @for (int i = 1; i <= 5; i++)
                            {
                                if (i <= @product.DanhGiaTrungBinh)
                                {
                                    <i class="bi bi-star-fill"></i>
                                }
                                else
                                {
                                    <i class="bi bi-star" style="opacity: 0.3;"></i>
                                }
                            }
                            <span class="rating-count">@product.SoLuongDanhGia Ratings</span>
                        </div>

                        <div class="price-container">
                            <span class="current-price">@product.GiaKhuyenMai.ToString("N0") ₫</span>
                            <span class="original-price text-muted text-decoration-line-through">@product.GiaBan.ToString("N0") ₫</span>

                            @{
                                var goc = product.GiaBan;
                                var km = product.GiaKhuyenMai;
                                var discount = (goc > 0 && km > 0) ? 100 - (km * 100 / goc) : 0;
                            }
                        </div>
                        <div class="free-shipping">FREE SHIPPING</div>
                        <div class="d-flex justify-content-between">
                            @if (product.SoLuongTonKho > 0)
                            {
                                <div class="stock-status">
                                    <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                    <span>Còn hàng</span>
                                </div>
                            }
                            else
                            {
                                <div class="stock-status text-danger">
                                    <i class="bi bi-x-circle-fill"></i>&nbsp;
                                    <span>Hết hàng</span>
                                </div>
                            }

                            <div class="stock-status">
                                <a href="#" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="@product.MaHangHoa">
                                    @if (ViewBag.DanhSachYeuThich.Contains(product.MaHangHoa))
                                    {
                                        <i class="fas fa-heart heart-icon glowing-heart" data-filled="true"></i>
                                    }
                                    else
                                    {
                                        <i class="far fa-heart heart-icon" data-filled="false"></i>
                                    }
                                    <span>Yêu thích</span>
                                </a>
                            </div>

                        </div>
                    </div>
                </a>
            </div>
        }
    </div>

    <div id="product-popular" class="d-none">
        @{
            var sortedProductsByRating = Model.OrderByDescending(p => p.DanhGiaTrungBinh).ToList();
        }
        @foreach (var product in sortedProductsByRating)
        {

            <div class="swiper-slide">
                <!-- Card sản phẩm BEST SELLER -->
                <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = product.MaHangHoa, maBienThe = product.MaBienThe })" class="text-decoration-none text-dark">
                    <div class="product-card position-relative my-3">
                        <span class="discount-badge position-absolute top-0 end-0">
                            @((int)(100 - (product.GiaKhuyenMai / product.GiaBan * 100)))% OFF
                        </span>
                        <div class="product-image-container">
                            <img src="~/assets/Image/Product/@product.HinhAnh" alt="@product.TenHangHoa" width="194" height="200">
                        </div>
                        <div class="review-count">(@product.SoLuongTonKho)</div>
                        <h5 class="product-name">@product.TenHangHoa</h5>
                        <p class="product-description">@product.MoTa</p>
                        <div class="star-rating">
                            @for (int i = 1; i <= 5; i++)
                            {
                                if (i <= @product.DanhGiaTrungBinh)
                                {
                                    <i class="bi bi-star-fill"></i>
                                }
                                else
                                {
                                    <i class="bi bi-star" style="opacity: 0.3;"></i>
                                }
                            }
                            <span class="rating-count">@product.SoLuongDanhGia Ratings</span>
                        </div>

                        <div class="price-container">
                            <span class="current-price">@product.GiaKhuyenMai.ToString("N0") ₫</span>
                            <span class="original-price text-muted text-decoration-line-through">@product.GiaBan.ToString("N0") ₫</span>

                            @{
                                var goc = product.GiaBan;
                                var km = product.GiaKhuyenMai;
                                var discount = (goc > 0 && km > 0) ? 100 - (km * 100 / goc) : 0;
                            }
                        </div>
                        <div class="free-shipping">FREE SHIPPING</div>
                        <div class="d-flex justify-content-between">
                            @if (product.SoLuongTonKho > 0)
                            {
                                <div class="stock-status">
                                    <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                    <span>Còn hàng</span>
                                </div>
                            }
                            else
                            {
                                <div class="stock-status text-danger">
                                    <i class="bi bi-x-circle-fill"></i>&nbsp;
                                    <span>Hết hàng</span>
                                </div>
                            }

                            <div class="stock-status">
                                <a href="#" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="@product.MaHangHoa">
                                    @if (ViewBag.DanhSachYeuThich.Contains(product.MaHangHoa))
                                    {
                                        <i class="fas fa-heart heart-icon glowing-heart" data-filled="true"></i>
                                    }
                                    else
                                    {
                                        <i class="far fa-heart heart-icon" data-filled="false"></i>
                                    }
                                    <span>Yêu thích</span>
                                </a>
                            </div>

                        </div>
                    </div>
                </a>
            </div>
        }
    </div>

    <style>
        #product-swiper-wrapper {
            opacity: 1;
            transition: opacity 0.4s ease-in-out;
        }

            #product-swiper-wrapper.fade-out {
                opacity: 0;
            }

        .glowing-heart {
            color: red;
            text-shadow: 0 0 8px #ff6b6b, 0 0 12px #ff3d3d;
        }
    </style>




    <div class="p-4 my-3 bg-white rounded-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">TOP Điện thoại & Tablet được yêu thích</h4>
        </div>
        <div class="row g-4">
            <!-- Redmi Banner -->
            <div class="col-12 col-md-6">
                <img class="banner-gradien position-absolute shadow-sm" src="~/assets/Image/Header/Banner/Banner_top_phone.png" alt="Redmi Note 12 Pro+ 5G phones" />
                <h2 class="position-relative p-4">Redmi note <br>12 Pro+(5G)</h2>
                <a href="/Product/ProductDetail/HH001?mabienthe=BT001" class="position-relative mx-5 px-4 py-2 rounded-4 shop-now-btn">MUA NGAY</a>
            </div>

            <!-- Categories Grid -->
            <div class="col-12 col-md-6">
                <div class="row g-3">
                    <!-- iPhone Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "iphone" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">iPhone (iOS)</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_iphone.png" alt="iPhone" class="category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>


                    <!-- Android Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Samsung" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Samsung</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_adr.png" alt="Android" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- 5G Support Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "5G" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">5G Support</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_5g.png" alt="5G Support" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Gaming Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Gaming" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Gaming</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_gaming.png" alt="Gaming" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Xiaomi Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Xiaomi" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Xiaomi</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_xiaomi.png" alt="Xiaomi" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Accessories Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Phụ kiện" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Phụ kiện</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/phone_acces.png" alt="Accessories" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div style="background-color:white" class="swiper productSwiper p-4 rounded-4 my-3">

            <!-- Swiper Wrapper -->
            <div class="swiper-wrapper">
                @foreach (var product in Model)
                {
                    if (product.MaDanhMuc == "DM001" || product.MaDanhMuc == "DM003")
                    {
                        <div class="swiper-slide">
                            <!-- Card sản phẩm BEST SELLER -->
                            <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = product.MaHangHoa, maBienThe = product.MaBienThe})" class="text-decoration-none text-dark">
                                <div class="product-card position-relative my-3">
                                    <span class="discount-badge position-absolute top-0 end-0">
                                        @((int)(100 - (product.GiaKhuyenMai / product.GiaBan * 100)))% OFF
                                    </span>
                                    <div class="product-image-container">
                                        <img src="~/assets/Image/Product/@product.HinhAnh" alt="@product.TenHangHoa" width="194" height="200">
                                    </div>
                                    <div class="review-count">(@product.SoLuongTonKho)</div>
                                    <h5 class="product-name">@product.TenHangHoa</h5>
                                    <p class="product-description">@product.MoTa</p>
                                    <div class="star-rating">
                                        @for (int i = 1; i <= 5; i++)
                                        {
                                            if (i <= @product.DanhGiaTrungBinh)
                                            {
                                                <i class="bi bi-star-fill"></i>
                                            }
                                            else
                                            {
                                                <i class="bi bi-star" style="opacity: 0.3;"></i>
                                            }
                                        }
                                        <span class="rating-count">@product.SoLuongDanhGia Ratings</span>
                                    </div>

                                    <div class="price-container">
                                        <span class="current-price">@product.GiaKhuyenMai.ToString("N0") ₫</span>
                                        <span class="original-price text-muted text-decoration-line-through">@product.GiaBan.ToString("N0") ₫</span>

                                        @{
                                            var goc = product.GiaBan;
                                            var km = product.GiaKhuyenMai;
                                            var discount = (goc > 0 && km > 0) ? 100 - (km * 100 / goc) : 0;
                                        }
                                    </div>
                                    <div class="free-shipping">FREE SHIPPING</div>
                                    <div class="d-flex justify-content-between">
                                        @if (product.SoLuongTonKho > 0)
                                        {
                                            <div class="stock-status">
                                                <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                                <span>Còn hàng</span>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="stock-status text-danger">
                                                <i class="bi bi-x-circle-fill"></i>&nbsp;
                                                <span>Hết hàng</span>
                                            </div>
                                        }

                                        <div class="stock-status">
                                            <a href="#" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="@product.MaHangHoa">
                                                @if (ViewBag.DanhSachYeuThich.Contains(product.MaHangHoa))
                                                {
                                                    <i class="fas fa-heart heart-icon glowing-heart" data-filled="true"></i>
                                                }
                                                else
                                                {
                                                    <i class="far fa-heart heart-icon" data-filled="false"></i>
                                                }
                                                <span>Yêu thích</span>
                                            </a>
                                        </div>

                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }
            </div>

            <!-- Navigation buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

    </div>
    <style>
        .swiper-button-next, .swiper-button-prev {
            color: #999; /* Màu sắc xám nhạt cho các nút */
            font-size: 18px; /* Giảm kích thước font của nút */
            width: 30px; /* Điều chỉnh chiều rộng của nút */
            height: 30px; /* Điều chỉnh chiều cao của nút */
        }

            .swiper-button-next::after, .swiper-button-prev::after {
                font-size: 18px; /* Kích thước của mũi tên */
            }

        .swiper-slide {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>

    <div class="p-4 my-3 bg-white rounded-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">Top Laptop được yêu thích</h4>
        </div>
        <div class="row g-4">
            <!-- Redmi Banner -->
            <div class="col-12 col-md-6">
                <img class="banner-gradien position-absolute shadow-sm" src="~/assets/Image/Header/Banner/Banner_top_lap.png" alt="Redmi Note 12 Pro+ 5G phones" />
                <h2 class="text-white position-relative p-4">
                    Macbook Air  <br>superchard
                    by M2
                </h2>
                <a href="/Product/ProductDetail/HH001?mabienthe=BT001" class="position-relative mx-5 px-4 py-2 rounded-4 shop-now-btn">MUA NGAY</a>
            </div>

            <!-- Categories Grid -->
            <div class="col-12 col-md-6">
                <div class="row g-3">
                    <!-- iPhone Category -->
                    <div class="col-4">
                        <a href="#" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Macbook</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_mac.png" alt="iPhone" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Android Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "PC" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">PC Gaming</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_PC.png" alt="Android" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- 5G Support Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "acer" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Laptop văn phòng</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_office.png" alt="5G Support" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Gaming Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Gaming" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Laptop Gaming</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_gaming.png" alt="Gaming" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Xiaomi Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "MAC M1" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">MAC M1</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_m1.png" alt="Xiaomi" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Accessories Category -->
                    <div class="col-4">
                        <a href="@Url.Action("ProductSearch", "Product", new { keyword = "Dell" })" class="text-decoration-none">
                            <div class="card category-card h-100 border-light">
                                <div class="card-body d-flex justify-content-between align-items-center">
                                    <div>
                                        <h3 class="card-title fs-6 fw-semibold">Laptop Dell</h3>
                                    </div>
                                    <img src="~/assets/Image/Header/Product_Feature/Lap_dell.png" alt="Accessories" class=".category-image-top-cell">
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div style="background-color:white" class="swiper productSwiper p-4 rounded-4 my-3">
            <!-- Swiper Wrapper -->
            <div class="swiper-wrapper">
                @foreach (var product in Model)
                {
                    if (product.MaDanhMuc == "DM002")
                    {
                        <div class="swiper-slide">
                            <!-- Card sản phẩm BEST SELLER -->
                            <a href="@Url.Action("AddRecentProduct", "Product", new { maHangHoa = product.MaHangHoa, maBienThe = product.MaBienThe })" class="text-decoration-none text-dark">
                                <div class="product-card position-relative my-3">
                                    <span class="discount-badge position-absolute top-0 end-0">
                                        @((int)(100 - (product.GiaKhuyenMai / product.GiaBan * 100)))% OFF
                                    </span>
                                    <div class="product-image-container">
                                        <img src="~/assets/Image/Product/@product.HinhAnh" alt="@product.TenHangHoa" width="194" height="200">
                                    </div>
                                    <div class="review-count">(@product.SoLuongTonKho)</div>
                                    <h5 class="product-name">@product.TenHangHoa</h5>
                                    <p class="product-description">@product.MoTa</p>
                                    <div class="star-rating">
                                        @for (int i = 1; i <= 5; i++)
                                        {
                                            if (i <= @product.DanhGiaTrungBinh)
                                            {
                                                <i class="bi bi-star-fill"></i>
                                            }
                                            else
                                            {
                                                <i class="bi bi-star" style="opacity: 0.3;"></i>
                                            }
                                        }
                                        <span class="rating-count">@product.SoLuongDanhGia Ratings</span>
                                    </div>

                                    <div class="price-container">
                                        <span class="current-price">@product.GiaKhuyenMai.ToString("N0") ₫</span>
                                        <span class="original-price text-muted text-decoration-line-through">@product.GiaBan.ToString("N0") ₫</span>

                                        @{
                                            var goc = product.GiaBan;
                                            var km = product.GiaKhuyenMai;
                                            var discount = (goc > 0 && km > 0) ? 100 - (km * 100 / goc) : 0;
                                        }
                                    </div>
                                    <div class="free-shipping">FREE SHIPPING</div>
                                    <div class="d-flex justify-content-between">
                                        @if (product.SoLuongTonKho > 0)
                                        {
                                            <div class="stock-status">
                                                <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                                <span>Còn hàng</span>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="stock-status text-danger">
                                                <i class="bi bi-x-circle-fill"></i>&nbsp;
                                                <span>Hết hàng</span>
                                            </div>
                                        }

                                        <div class="stock-status">
                                            <a href="" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="@product.MaHangHoa">
                                                @if (ViewBag.DanhSachYeuThich.Contains(product.MaHangHoa))
                                                {
                                                    <i class="fas fa-heart heart-icon glowing-heart" data-filled="true"></i>
                                                }
                                                else
                                                {
                                                    <i class="far fa-heart heart-icon" data-filled="false"></i>
                                                }
                                                <span>Yêu thích</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                }
            </div>

            <!-- Navigation buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>

    <div class="p-4 my-3 bg-white rounded-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">Sản phẩm sắp tới </h4>
        </div>

        <div class="row g-4">
            <!-- Card -->
            <div class="col-md-6 col-lg-3">
                <div class="border rounded">
                    <a href="javascript:void(0)"> <img class="w-100" src="~/assets/Image/Header/Banner/brand_new_4.jpg" alt="Product"></a>
                    <div class="p-3">
                        <a href=""><h5 class="fw-bold text-black">Surface Laptop 5 13.5 inch</h5></a>
                        <p class="text-muted small">CPU là Intel Alder Lake thế hệ 12th, loại bỏ phiên bản AMD Ryzen.</p>

                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="border rounded">
                    <a href="javascript:void(0)"> <img class="w-100" src="~/assets/Image/Header/Banner/brand_new_3.jpg" alt="Product"></a>
                    <div class="p-3">
                        <a href=""><h5 class="fw-bold text-black">PC Gaming STAR Relaw </h5></a>
                        <p class="text-muted small">Intel I5 14400F, RTX 4060, B760M, RAM 16GB, SSD 500GB</p>

                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="border rounded">
                    <a href="javascript:void(0)"> <img class="w-100" src="~/assets/Image/Header/Banner/brand_new_2.jpg" alt="Product"></a>
                    <div class="p-3">
                        <a href=""><h5 class="fw-bold text-black">Màn hình Viewsonic VA2708-2K-MHD 27 inch</h5></a>
                        <p class="text-muted small">Độ phân giải 2K mang đến chất lượng hiển thị video và hình ảnh chân thực</p>

                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="border rounded">
                    <a href="javascript:void(0)"> <img class="w-100" src="~/assets/Image/Header/Banner/brand_new_1.jpg" alt="Product"></a>
                    <div class="p-3">
                        <a href=""><h5 class="fw-bold text-black">Ghế Gaming fantasix Gundam Universe</h5></a>
                        <p class="text-muted small">Thiết kế nhỏ gọn, kiểu dáng mạnh mẽ và phù hợp với người dùng Việt Nam</p>
                    </div>
                </div>
            </div>
            <!-- You can repeat more cards with different data -->
        </div>
    </div>



    <div class="row gx-3 pb-3">
        <!-- Repeat this column 3 times -->
        <div class="col-12 col-md-4">
            <div class="p-4 rounded-4 bg-white shadow-sm">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="fw-bold fs-4 mb-0 border-start border-4 border-success">&nbsp;Audio & CAMERA</h1>
                </div>

                <!-- Featured Product Banner -->
                <a href="/Product/ProductDetail/HH007?maBienThe=BT004" class="text-decoration-none d-block">
                    <div class="position-relative bg-white rounded-3 mb-4 overflow-hidden" style="height: 200px;">
                        <!-- Ảnh nền -->
                        <img src="~/assets/Image/Header/Banner/banner_harmankardon.png"
                             alt="Harman Kardon Speaker"
                             class="w-100 h-100 object-fit-cover position-absolute top-0 start-0">

                        <!-- Overlay chữ -->
                        <div class="position-absolute top-0 start-0 p-3 z-1 text-white bg-opacity-75 rounded-end">
                            <h2 class="fw-bold mb-0">Loa</h2>
                            <h2 class="fw-bold mb-0">Tốt nhất</h2>
                            <h2 class="fw-bold mb-0">2025</h2>
                        </div>
                    </div>
                </a>



                <!-- Divider -->
                <hr class="my-4">
                <!-- Categories Grid -->
                <div class="row row-cols-2 g-3">
                    <a href="/Product/AnotherProduct?maDm=DM006" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/speaker.png" alt="Speaker" class="pb-1">
                            <h5 class="fw-bold mb-0">Loa</h5>
                        </div>
                    </a>
                    <a href="/Product/AnotherProduct?maDm=DM007" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/Camera.png" alt="Máy Ảnh" class="pb-1">
                            <h5 class="fw-bold mb-0">
                                Máy Ảnh
                            </h5>
                        </div>
                    </a>
                    <a href="/Product/AnotherProduct?maDm=DM007" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/earphone.png" alt="Earbuds" class="pb-1">
                            <h5 class="fw-bold mb-0">
                                Tai nghe
                            </h5>
                        </div>
                    </a>
                    <div class="product-item col text-center" title="Đang về hàng">
                        <img src="~/assets/Image/Header/Product_Feature/Orther/mic.png" alt="Earbuds" class="pb-1">
                        <h5 class="fw-bold mb-0">
                            Tai nghe
                        </h5>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-4 ">
            <div class="p-4 rounded-4 bg-white shadow-sm">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="fw-bold fs-4 mb-0 border-start border-4 border-success">&nbsp;Gaming</h1>
                </div>
                <a href="Product/ProductDetail/HH007?maBienThe=BT004" class="text-decoration-none d-block">
                    <!-- Featured Product Banner -->
                    <div class="position-relative bg-white rounded-3 mb-4 overflow-hidden" style="height: 200px;">
                        <!-- Image full background -->
                        <img src="~/assets/Image/Header/Banner/banner_mouse.png"
                             alt="Harman Kardon Speaker"
                             class="w-100 h-100 object-fit-cover position-absolute top-0 start-0">

                        <!-- Overlay text -->
                        <div class="position-absolute top-0 start-0 p-2 z-1 text-dark  bg-opacity-75 rounded-end">
                            <h3 class="fw-semibold mb-0 ">Chuột RGB</h3>
                            <h3 class="fw-semibold mb-0 ">gaming</h3>
                            <h3 class="fw-semibold mb-0 ">mouse  </h3>
                        </div>
                    </div>
                </a>
                <!-- Divider -->
                <hr class="my-4">

                <!-- Categories Grid -->
                <div class="row row-cols-2 g-3">
                    <a href="/Product/ProductManHinh?maDm=DM0011" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/monitor.png" alt="Monitors" class="pb-1">
                            <h5 class="fw-bold mb-0">Màn hình</h5>
                        </div>
                    </a>
                    <div class="product-item col text-center" title="Đang về hàng">
                        <img src="~/assets/Image/Header/Product_Feature/Orther/chair.png" alt="Chair" class="pb-1">
                        <h5 class="fw-bold mb-0">
                            Ghế Gaming
                        </h5>
                    </div>
                    <a href="/Product/Gaming?maDm=DM009" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/handgame.png" alt="Controller" class="pb-1">
                            <h5 class="fw-bold mb-0">
                                Tay Cầm
                            </h5>
                        </div>
                    </a>
                    <a href="/Product/AnotherProduct?maDm=DM004" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/keyboard.png" alt="Keyboards" class="pb-1">
                            <h5 class="fw-bold mb-0">
                                Bàn Phím
                            </h5>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4">
            <div class="p-4 rounded-4 bg-white shadow-sm">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="fw-bold fs-4 mb-0 border-start border-4 border-success">&nbsp;Router và sản phẩm khác</h1>
                </div>
                <!-- Featured Product Banner -->

                <div class="position-relative bg-white rounded-3 mb-4 overflow-hidden" style="height: 200px;" title="Đang về hàng">
                    <!-- Image full background -->
                    <img src="~/assets/Image/Header/Banner/banner_maychieu.png"
                         alt="Harman Kardon Speaker"
                         class="w-100 h-100 object-fit-cover position-absolute top-0 start-0">

                    <!-- Overlay text -->
                    <div class="position-absolute top-0 start-0 py-3 z-1 text-white bg-opacity-75 rounded-end mx-5">
                        <h6 class="mb-0 ">Máy Chiếu 4k</h6>
                        <h2 class="fw-semibold mb-0 ">Laser Projector</h2>
                    </div>
                </div>
                <!-- Divider -->
                <hr class="my-4">

                <!-- Categories Grid -->
                <div class="row row-cols-2 g-3">
                    <div class="product-item col text-center" title="Đang về hàng">
                        <img src="~/assets/Image/Header/Product_Feature/Orther/printer.png" alt="Keyboards" class="pb-1">
                        <h5 class="fw-bold mb-0">
                            Máy in
                        </h5>
                    </div>
                    <a href="/Product/AnotherProduct?maDm=DM010" class="text-dark">
                        <div class="product-item col text-center">
                            <img src="~/assets/Image/Header/Product_Feature/Orther/network.png" alt="Keyboards" class="pb-1">
                            <h5 class="fw-bold mb-0">
                                Thiết bị mạng
                            </h5>
                        </div>
                    </a>
                    <div class="product-item col text-center" title="Đang về hàng">
                        <img src="~/assets/Image/Header/Product_Feature/Orther/camera_1.png" alt="Keyboards" class="pb-1">
                        <h5 class="fw-bold mb-0">
                            Camera
                        </h5>
                    </div>
                    <div class="product-item col text-center" title="Đang về hàng">
                        <img src="~/assets/Image/Header/Product_Feature/Orther/projector.png" alt="Máy Chiếu" class="pb-1">
                        <h5 class="fw-bold mb-0">Máy Chiếu</h5>
                    </div>

                </div>
            </div>
        </div>
    </div>



    <div class="row gx-2">
        <div class="col-lg-6 d-flex position-relative">
            <img src="~/assets/Image/Header/Banner/banner_swatek.png" alt="" class="img-cover w-100">
            <div class=" position-absolute mx-5 my-4 end-0 text-white">
                <h2 class="text-warning">Giảm 10% </h2>
                <p>Hoàn 10% khi thanh toán<br> Swatek. <a href="#" class="text-decoration-underline"> Learn How </a> </p>
            </div>
        </div>
        <div class="col-lg-6 d-flex position-relative">

            <img src="~/assets/Image/Header/Banner/banner_dowload_app.png" alt="" class="img-cover w-100">
            <div class=" position-absolute mx-5 my-4 top-0 text-white">
                <h2> Giảm 5% </h2>
                <p class="m-0"> Hoàn 5% khi tải Swat. <a href="#" class="text-decoration-underline"> Learn How </a> </p>
                <p> Hãy nhanh tay số lượng có hạn!! </p>
            </div>
        </div>
    </div>





    <!-- Section Header -->
    <div class="d-flex justify-content-between mt-3 mb-2">
        <h4 class="fw-bold text-uppercase border-start border-4 border-success ps-3 mb-4">TIN CÔNG NGHỆ</h4>
        <a href="/InnerPage/Blog" class="view-all">Xem tất cả</a>
    </div>

    <!-- News Cards -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-2">
        <!-- News Card 1 -->
        <div class="col">
            <a href="/News/ChiTietBaiViet" class="text-decoration-none text-dark">
                <div class="news-card">
                    <div class="news-img-container">
                        <img src="~/assets/Image/News/so-sanh-apple-m3-ultra-va-apple-m4-max-thumb.jpg" alt="Rapoo V300W">
                    </div>
                    <div class="p-3">
                        <p class="news-title">So sánh Apple M4 Max và M3 Ultra: Gấp đôi số lõi nhưng chênh lệch có nhiều?</p>
                        <p class="paragraph">Chủ đề so sánh và Apple M4 Max và M3 Ultra đang được cộng đồng công nghệ rất quan tâm...</p>
                        <span class="read-more d-inline-flex align-items-center fw-medium" style="color: rgba(0,0,0,0.6)">
                            Đọc thêm <i class="fas fa-arrow-right ms-2"></i>
                        </span>
                    </div>
                </div>
            </a>

        </div>


        <!-- News Card 2 -->
        <div class="col">
            <a href="/News/ChiTietBaiViet" class="text-decoration-none text-dark">
                <div class="news-card">
                    <div class="news-img-container">
                        <img src="~/assets/Image/News/tecno-spark-30c-co-may-mau-th.jpg" alt="Snapdragon 8 Elite 2">
                    </div>
                    <div class="p-3">
                        <p class="news-title">Tecno Spark 30C có mấy màu? Phiên bản màu nào sẽ hot nhất?</p>
                        <p class="paragraph">Bạn đang thắc mắc Tecno Spark 30C có mấy màu? Và đâu là phiên bản màu sắc phù hợp nhất với phong cách của bạn? Sforum sẽ</p>
                        <span class="read-more d-inline-flex align-items-center fw-medium" style="color: rgba(0,0,0,0.6)">
                            Đọc thêm <i class="fas fa-arrow-right ms-2"></i>
                        </span>
                    </div>
                </div>
            </a>
        </div>

        <!-- News Card 3 -->
        <div class="col">
            <a href="/News/ChiTietBaiViet" class="text-decoration-none text-dark">
                <div class="news-card">
                    <div class="news-img-container">
                        <img src="~/assets/Image/News/tinh-nang-xiaomi-15s-pro.jpg" alt="Samsung One UI 7">
                    </div>
                    <div class="p-3">
                        <p class="news-title">
                            Xiaomi 15S Pro sẽ hồi sinh một công nghệ bị lãng quên từ lâu
                        </p>
                        <p class="paragraph">Mẫu điện thoại cao cấp tiếp theo đến từ Xiaomi là Xiaomi 15S Pro dự kiến sẽ được trang bị công nghệ Ultra Wideband (UWB). Thời</p>
                        <span class="read-more d-inline-flex align-items-center fw-medium" style="color: rgba(0,0,0,0.6)">
                            Đọc thêm <i class="fas fa-arrow-right ms-2"></i>
                        </span>
                    </div>
                </div>
            </a>

        </div>

        <!-- News Card 4 -->
        <div class="col">
            <a href="/News/ChiTietBaiViet" class="text-decoration-none text-dark">
                <div class="news-card">
                    <div class="news-img-container">
                        <img src="~/assets/Image/News/xiaomi-pad-7-co-may-mau-th.jpg" alt="Galaxy S25 Edge">
                    </div>
                    <div class="p-3">
                        <p class="news-title">Xiaomi Pad 7 có mấy màu? Khám phá bảng màu của tablet nhà Xiaomi</p>
                        <p class="paragraph">Nếu bạn đang cân nhắc sắm một chiếc tablet Xiaomi Pad 7 mới mà phân vân không biết chọn màu nào, hoặc đơn giản chỉ tò m</p>
                        <span class="read-more d-inline-flex align-items-center fw-medium" style="color: rgba(0,0,0,0.6)">
                            Đọc thêm <i class="fas fa-arrow-right ms-2"></i>
                        </span>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <iframe class="rounded-3 my-3"
            width="100%"
            height="315"
            src="https://www.youtube.com/embed/ePdbj2bZ-Ro?si=XvqRILqboebC9Il5"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen>
    </iframe>

</div>


<iframe class="map-frame" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.067279078708!2d106.62608531079351!3d10.806159158599737!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752be27d8b4f4d%3A0x92dcba2950430867!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBDw7RuZyBUaMawxqFuZyBUUC4gSOG7kyBDaMOtIE1pbmggKEhVSVQp!5e0!3m2!1svi!2s!4v1744050227165!5m2!1svi!2s"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade
        "></iframe>

<script>
    const swiper = new Swiper(".mySwiper", {
        loop: true,
        speed: 600, // tốc độ chuyển slide (ms)
        effect: "slide", // mặc định là slide, có thể dùng 'fade' hoặc 'coverflow'
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });

</script>

<script>
    //1
    const swiperWrapper = document.getElementById('product-swiper-wrapper');
    const productTabs = document.getElementById('product-tabs');

    // Khởi tạo swiper với autoplay + transition mượt
    const productSwiper = new Swiper(".productSwiper", {
        slidesPerView: 2,
        spaceBetween: 20,
        loop: false,
        speed: 1000, // tốc độ chuyển slide (ms)
        autoplay: {
            delay: 3000, // tự chuyển mỗi 3 giây
            disableOnInteraction: false, // không dừng autoplay khi người dùng swipe
        },
        breakpoints: {
            576: { slidesPerView: 2 },
            768: { slidesPerView: 3 },
            992: { slidesPerView: 4 },
            1200: { slidesPerView: 5 }
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev"
        }
    });

    function loadProductCategory(category) {
        const content = document.getElementById(`product-${category}`).innerHTML;
        swiperWrapper.innerHTML = content;

        // Cập nhật lại swiper khi nội dung đổi
        productSwiper.update();
    }

    // Load mặc định danh mục đầu tiên
    loadProductCategory("best-discount");

    // Bắt sự kiện khi click tab
    productTabs.querySelectorAll('.nav-link').forEach(tab => {
        tab.addEventListener('click', (e) => {
            e.preventDefault();
            productTabs.querySelectorAll('.nav-link').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            const category = tab.getAttribute('data-category');
            loadProductCategory(category);
        });
    });
    function loadProductCategory(category) {
        const content = document.getElementById(`product-${category}`).innerHTML;

        // Xoá swiper cũ nếu đã tồn tại
        if (productSwiper && productSwiper.destroy) {
            productSwiper.destroy(true, true);
        }

        // Gán nội dung mới
        swiperWrapper.innerHTML = content;

        // Khởi tạo lại swiper sau khi DOM đã thay đổi
        setTimeout(() => {
            productSwiper = new Swiper(".productSwiper", {
                slidesPerView: 2,
                spaceBetween: 20,
                loop: false,
                speed: 1000,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
                breakpoints: {
                    576: { slidesPerView: 2 },
                    768: { slidesPerView: 3 },
                    992: { slidesPerView: 4 },
                    1200: { slidesPerView: 5 }
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev"
                }
            });
        }, 0); // Cho DOM cập nhật xong rồi mới init lại swiper
    }

</script>

<script>
    // Set ngày kết thúc (định dạng: "YYYY-MM-DDTHH:MM:SS")
    const endTime = new Date("2025-05-30T23:59:59").getTime();

    const countdown = () => {
        const now = new Date().getTime();
        const distance = endTime - now;

        if (distance < 0) {
            document.getElementById("countdown").innerHTML = "<span class='text-danger'>Đã kết thúc</span>";
            clearInterval(timer);
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").innerText = (days < 10 ? "0" : "") + days + "d";
        document.getElementById("hours").innerText = (hours < 10 ? "0" : "") + hours + "h";
        document.getElementById("minutes").innerText = (minutes < 10 ? "0" : "") + minutes + "m";
        document.getElementById("seconds").innerText = (seconds < 10 ? "0" : "") + seconds + "s";
    };

    const timer = setInterval(countdown, 1000);
    countdown(); // Gọi 1 lần đầu để không delay 1s
</script>
<script>
    $(document).ready(function () {
        $(document).on('click', '.add-to-favorite', function (e) {
            e.preventDefault();
            const $icon = $(this).find('.heart-icon');
            const maHangHoa = $(this).data('mahanghoa');

            $.ajax({
                url: '/Product/AddWishList',
                type: 'POST',
                data: { maHangHoa:   maHangHoa },
                success: function (res) {
                    if (res.success) {
                        if (res.removed) {
                            $icon.removeClass('fas fa-heart glowing-heart').addClass('far fa-heart').attr('data-filled', 'false');
                        } else {
                            $icon.removeClass('far fa-heart').addClass('fas fa-heart glowing-heart').attr('data-filled', 'true');
                        }

                        Swal.fire({
                            icon: 'success',
                            title: 'Thông báo',
                            text: res.message,
                            timer: 1500,
                            showConfirmButton: false
                        });
                    } else {
                        Swal.fire({
                            icon: 'info',
                            title: 'Thông báo',
                            text: res.message
                        });
                    }
                }
            });
        });
    });
</script>

    <div id="product-recommend" class="d-none">
        <!-- Sản phẩm gợi ý sẽ được load động bằng JavaScript -->
    </div>

    <script>
        $(document).ready(function() {
            const swiperWrapper = document.getElementById('product-swiper-wrapper');
            const productTabs = document.getElementById('product-tabs');
            let productSwiper = null;

            function initSwiper() {
                // Khởi tạo Swiper mới
                productSwiper = new Swiper(".productSwiper", {
                    slidesPerView: 2,
                    spaceBetween: 20,
                    loop: false,
                    speed: 1000,
                    autoplay: {
                        delay: 3000,
                        disableOnInteraction: false,
                    },
                    breakpoints: {
                        576: { slidesPerView: 2 },
                        768: { slidesPerView: 3 },
                        992: { slidesPerView: 4 },
                        1200: { slidesPerView: 5 }
                    },
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev"
                    }
                });
            }

            function loadProductCategory(category) {
                if (category === 'recommend') {
                    // Lấy mã khách hàng từ session
                    const maKhachHang = '@Session["UserID"]';

                    if (!maKhachHang) {
                        // Hiển thị thông báo khi chưa đăng nhập
                        swiperWrapper.innerHTML = `
                            <div class="text-center p-4 w-100">
                                <i class="fas fa-user-lock fa-3x mb-3 text-muted"></i>
                                <h4 class="mb-3">Bạn cần đăng nhập để sử dụng chức năng này</h4>
                                <a href="/InnerPage/Login" class="btn btn-success">Đăng nhập ngay</a>
                            </div>
                        `;

                        setTimeout(initSwiper, 100);
                        return;
                    }

                    // Hiển thị loading
                    swiperWrapper.innerHTML = '<div class="text-center"><i class="fas fa-spinner fa-spin fa-2x"></i></div>';
                    setTimeout(initSwiper, 100);

                    // Gọi API lấy sản phẩm gợi ý
                    $.ajax({
                        url: '/Home/GetRecommendedProducts',
                        type: 'GET',
                        data: { maKhachHang: maKhachHang },
                        success: function(res) {
                            if (res.success && res.data.length > 0) {
                                let html = '';
                                res.data.forEach(product => {
                                    const discount = product.GiaBan > 0 ? Math.round((1 - product.GiaKhuyenMai / product.GiaBan) * 100) : 0;
                                    html += `
                                        <div class="swiper-slide py-3">
                                            <a href="/Product/AddRecentProduct?maHangHoa=${product.MaHangHoa}&maBienThe=${product.MaBienThe}" class="text-decoration-none text-dark">
                                                <div class="product-card position-relative">
                                                  <span class="discount-badge position-absolute top-0 end-0">
                                                    ${Math.floor(100 - (product.GiaKhuyenMai / product.GiaBan * 100))}% OFF
                                                  </span>
                                                    <div class="product-image-container">
                                                        <img src="/assets/Image/Product/${product.HinhAnh}" alt="${product.TenHangHoa}" width="194" height="200">
                                                    </div>
                                                    <div class="review-count">(${product.SoLuongTonKho})</div>
                                                    <h5 class="product-name">${product.TenHangHoa}</h5>
                                                    <p class="product-description">${product.MoTa}</p>
                                                    <div class="price-container">
                                                        <span class="current-price">${product.GiaKhuyenMai.toLocaleString()} ₫</span>
                                                        <span class="original-price text-muted text-decoration-line-through">${product.GiaBan.toLocaleString()} ₫</span>
                                                    </div>
                                                    <div class="free-shipping">FREE SHIPPING</div>
                                                    <div class="recommendation-score">
                                                        <i class="fas fa-star text-warning"></i>
                                                        <span>Điểm gợi ý: ${product.DiemDuDoan}</span>
                                                    </div>
                                                    <div class="d-flex justify-content-between">
                                                        <div class="stock-status">
                                                            <i class="bi bi-check-circle-fill in-stock-icon"></i>
                                                            <span>Còn hàng</span>
                                                        </div>
                                                        <div class="stock-status">
                                                            <a href="#" class="text-decoration-none text-dark hover-shake add-to-favorite" data-mahanghoa="${product.MaHangHoa}">
                                                                <i class="far fa-heart heart-icon" data-filled="false"></i>
                                                                <span>Yêu thích</span>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    `;
                                });
                                swiperWrapper.innerHTML = html;
                                setTimeout(initSwiper, 100);
                            } else {
                                swiperWrapper.innerHTML = '<div class="text-center p-4">Chưa có sản phẩm gợi ý cho bạn</div>';
                                setTimeout(initSwiper, 100);
                            }
                        },
                        error: function(xhr, status, error) {
                            swiperWrapper.innerHTML = '<div class="text-center p-4">Có lỗi xảy ra khi tải sản phẩm gợi ý</div>';
                            setTimeout(initSwiper, 100);
                        }
                    });
                } else {
                    const content = document.getElementById(`product-${category}`).innerHTML;
                    swiperWrapper.innerHTML = content;
                    setTimeout(initSwiper, 100);
                }
            }

            // Load mặc định danh mục đầu tiên
            loadProductCategory("best-discount");

            // Bắt sự kiện khi click tab
            $('#product-tabs .nav-link').on('click', function(e) {
                e.preventDefault();
                $('#product-tabs .nav-link').removeClass('active');
                $(this).addClass('active');
                const category = $(this).data('category');
                loadProductCategory(category);
            });
        });
    </script>

    <style>
        .recommendation-score {
            background-color: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
        }
        .recommendation-score i {
            margin-right: 5px;
        }
    </style>
